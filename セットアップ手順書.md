# 🚀 セットアップ手順書
## GLOBAL MKT WEEKLY — Google Drive → GitHub Pages 自動公開

---

## 全体の流れ

```
[あなた] Google Driveに .md ファイルを追加
         ↓（毎週月曜 朝9時）
[GitHub Actions] ファイルを自動取得してHTMLに変換
         ↓
[GitHub Pages] サイトに自動反映・公開
```

---

## STEP 1：GitHubアカウントを作成する

1. https://github.com にアクセス
2. 「Sign up」をクリック
3. メールアドレス・パスワード・ユーザー名を入力して登録
4. メール認証を完了する

---

## STEP 2：このリポジトリをGitHubに作成する

1. GitHubにログイン後、右上の「＋」→「New repository」をクリック
2. Repository name に `global-mkt-weekly` と入力
3. **Public** を選択（GitHub Pagesを無料で使うため）
4. 「Create repository」をクリック

---

## STEP 3：ファイルをアップロードする

受け取ったファイル一式を GitHub にアップロードします。

**ファイル構成：**
```
global-mkt-weekly/
├── build.js                          ← ビルドスクリプト
├── package.json                      ← npm設定
├── site/
│   ├── index.html                    ← トップページテンプレート
│   └── article-template.html        ← 記事ページテンプレート
└── .github/
    └── workflows/
        └── weekly-build.yml         ← 自動実行設定
```

GitHubのリポジトリページで「uploading an existing file」をクリックして、ファイルをドラッグ&ドロップしてください。

※ `.github/workflows/weekly-build.yml` は隠しフォルダなので、ターミナルが使える方は Git コマンドでのアップロードを推奨します。

---

## STEP 4：Google API キーを取得する

1. https://console.cloud.google.com にアクセス（Googleアカウントでログイン）
2. 左上の「プロジェクトを選択」→「新しいプロジェクト」を作成
3. 左メニュー「APIとサービス」→「ライブラリ」
4. 「Google Drive API」を検索して「有効にする」
5. 「APIとサービス」→「認証情報」→「認証情報を作成」→「APIキー」
6. 生成されたAPIキーをコピーしておく（後で使います）

---

## STEP 5：GitHub Secrets に設定する

GitHub Actions がAPIキーを安全に使えるよう、シークレットとして登録します。

1. GitHubのリポジトリページ → 「Settings」タブ
2. 左メニュー「Secrets and variables」→「Actions」
3. 「New repository secret」をクリック

以下の2つを登録：

| Name | Value |
|------|-------|
| `GOOGLE_API_KEY` | STEP4で取得したAPIキー |
| `DRIVE_FOLDER_ID` | `1kQ-InlQsnmiGcrZPNs64gXpnR9JHYHh0` |

---

## STEP 6：GitHub Pages を有効にする

1. リポジトリの「Settings」→ 左メニュー「Pages」
2. Source を「Deploy from a branch」に設定
3. Branch を `main`、フォルダを `/docs` に設定
4. 「Save」をクリック

数分後、以下のURLでサイトが公開されます：
```
https://[あなたのGitHubユーザー名].github.io/global-mkt-weekly/
```

---

## STEP 7：初回ビルドを手動で実行する

最初だけ手動でビルドを走らせます。

1. リポジトリの「Actions」タブ
2. 左メニュー「毎週月曜 自動ビルド & デプロイ」をクリック
3. 「Run workflow」→「Run workflow」をクリック

1〜2分後、サイトに記事が表示されます 🎉

---

## STEP 8：運用開始

以降は毎週月曜の朝9時に自動でビルドが走ります。

**あなたがやること：**
- 毎週月曜日（または週末）に Google Drive のフォルダに `.md` ファイルを追加するだけ

---

## Markdownファイルの書き方

記事の先頭にメタ情報（Front Matter）を書くと、タイトルや日付が自動で入ります。

```markdown
---
title: Nikeの感情訴求SNS戦略：インプレッション300%増の秘密
date: 2025-01-20
week: 01
tags: Nike, SNS, ブランド戦略
---

# Nikeの感情訴求SNS戦略

## 概要
...
```

Front Matter がなくても、ファイル名と本文の最初の `#` 見出しからタイトルを自動取得します。

---

## トラブルシューティング

**Q: Actionsが失敗する**
- STEP5のSecretsが正しく設定されているか確認してください
- 「Actions」→ 失敗したワークフロー → ログを確認

**Q: サイトが表示されない**
- STEP6のPages設定で `/docs` フォルダを指定しているか確認
- 初回ビルドが完了しているか（STEP7）を確認

**Q: 記事が増えない**
- Google DriveのフォルダのAPIアクセス設定が「リンクを知っている人が閲覧可能」になっているか確認

---

## 費用

| サービス | 料金 |
|---------|------|
| GitHub（Pages + Actions） | 無料 |
| Google Drive API | 無料（1日あたり数千回まで） |
| **合計** | **¥0** |
